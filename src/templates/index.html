<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>7TV Emote → WebM</title>
    <style>
        :root {
            --bg: #0b0e11;
            --card: #0f1620;
            --card-2: #121b27;
            --accent: #6cf;
            --accent-2: #8ef;
            --text: #e7edf5;
            --muted: #9bb0c3;
            --error: #ff6b6b;
            --shadow: 0 16px 60px rgba(0,0,0,0.4);
            --radius: 16px;
            --font: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
        }

        * { box-sizing: border-box; }
        body {
            margin: 0;
            min-height: 100vh;
            background: radial-gradient(circle at 20% 20%, rgba(108,255,255,0.08), transparent 25%),
                        radial-gradient(circle at 80% 10%, rgba(142,238,255,0.06), transparent 22%),
                        linear-gradient(145deg, #0b0e11 0%, #0e141d 50%, #0b0f17 100%);
            color: var(--text);
            font-family: var(--font);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 32px;
        }

        .panel {
            width: min(640px, 100%);
            background: linear-gradient(160deg, var(--card) 0%, var(--card-2) 100%);
            border: 1px solid rgba(255,255,255,0.04);
            box-shadow: var(--shadow);
            border-radius: var(--radius);
            padding: 28px;
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .header {
            grid-column: 1 / -1;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 0 16px rgba(108,255,255,0.6);
        }

        h1 {
            margin: 0;
            font-size: 24px;
            letter-spacing: 0.3px;
        }

        .sub {
            color: var(--muted);
            margin-top: 4px;
            font-size: 13px;
        }

        form {
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding: 18px;
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: calc(var(--radius) - 4px);
            background: rgba(255,255,255,0.02);
        }

        label {
            font-size: 13px;
            color: var(--muted);
        }

        input[type=text] {
            width: 100%;
            padding: 12px 14px;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.08);
            background: rgba(255,255,255,0.04);
            color: var(--text);
            font-size: 14px;
            outline: none;
            transition: border 0.15s, box-shadow 0.15s, background 0.15s;
        }

        input[type=text]:focus {
            border-color: rgba(108,255,255,0.6);
            box-shadow: 0 0 0 3px rgba(108,255,255,0.12);
            background: rgba(255,255,255,0.06);
        }

        button {
            padding: 12px;
            border-radius: 12px;
            border: none;
            background: linear-gradient(120deg, var(--accent) 0%, var(--accent-2) 100%);
            color: #001019;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: transform 0.1s ease, box-shadow 0.15s ease;
            box-shadow: 0 8px 24px rgba(108,255,255,0.25);
        }

        button:active { transform: translateY(1px); }

        .error {
            color: var(--error);
            font-size: 14px;
            margin: 0;
        }

        .result-card {
            border: 1px solid rgba(255,255,255,0.06);
            border-radius: calc(var(--radius) - 4px);
            background: rgba(255,255,255,0.02);
            padding: 14px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .result-card h3 {
            margin: 0 0 10px 0;
            font-size: 15px;
            color: var(--muted);
        }

        video {
            width: 100%;
            border-radius: 12px;
            background: #000;
            margin-top: 8px;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .download {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-top: 12px;
            color: var(--accent);
            text-decoration: none;
            font-weight: 700;
            font-size: 14px;
        }

        .download:hover { color: var(--accent-2); }

        .tip {
            color: var(--muted);
            font-size: 12px;
            margin-top: -2px;
        }
    </style>
</head>
<body>
<div class="panel">
    <div class="header">
        <div>
            <h1>7TV Emote → WebM</h1>
            <div class="sub">Pega la URL directa del emote (gif) y te devolvemos un WebM (≤3s).</div>
        </div>
    </div>

    <div>
        {% if error %}
            <p class="error">{{ error }}</p>
        {% endif %}
        <form method="post" action="/convert">
            <label for="emote_url">URL del emote</label>
            <input id="emote_url" type="text" name="emote_url" placeholder="https://cdn.7tv.app/emote/.../4x.gif" required>
            <div class="tip">Acepta GIF de 7TV CDN. Se escala a 512px máx y se limita a 3s.</div>
            <button type="submit">Convertir</button>
        </form>
    </div>

    <div>
        {% if emote_url %}
            <div class="result-card">
                <video controls autoplay loop muted>
                    <source src="{{ emote_url }}" type="video/webm">
                </video>
                {% if emote_file %}
                    <a class="download" href="/download/{{ emote_file }}">Download WebM</a>
                {% endif %}
            </div>
        {% endif %}
    </div>
</div>
</body>
</html>
